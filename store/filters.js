export const state = () => ({
  filterProperties:
  [
    {
      "label": "Gender",
      "property": "sex",
      "filters": {
        "male": {
          "label": "Male",
          "active": true,
          "iconUrl": "/images/witch-single-blue.png"
        },
        "female": {
          "label": "Female",
          "active": true,
          "iconUrl": "/images/witch-single-orange.png"
        },
        "unknown": {
          "label": "Unknown",
          "active": true,
          "iconUrl": "/images/witch-single-BW.png"
        }
      }
    },
    {
      "label": "Social Classification",
      "property": "socialClassification",
      "filters": {
        "middling": {
          "label": "middling",
          "active": true,
          "iconUrl": "/images/witch-single-blue.png"
        },
        "pauper": {
          "label": "pauper",
          "active": true,
          "iconUrl": "/images/witch-single-orange.png"
        },
        "unknown": {
          "label": "unknown",
          "active": true,
          "iconUrl": "/images/witch-single-pink.png"
        },
        "working poor": {
          "label": "working poor",
          "active": true,
          "iconUrl": "/images/witch-single-red.png"
        },
        "vagrant": {
          "label": "vagrant",
          "active": true,
          "iconUrl": "/images/witch-single-brown.png"
        },
        "nobility": {
          "label": "nobility",
          "active": true,
          "iconUrl": "/images/witch-single-green.png"
        },
        "upper class": {
          "label": "upper class",
          "active": true,
          "iconUrl": "/images/witch-single-pale-blue.png"
        },
        "Laird": {
          "label": "Laird",
          "active": true,
          "iconUrl": "/images/witch-single-yellow.png"
        }
      }
    },
    {
      "label": "Occupations",
      "property": "occupation",
      "filters": {
        "unknown": {
          "label": "unknown",
          "active": true,
          "iconUrl": "/images/witch-single-blue.png"
        },
        "vagrant": {
          "label": "vagrant",
          "active": true,
          "iconUrl": "/images/witch-single-orange.png"
        },
        "domestic worker": {
          "label": "domestic worker",
          "active": true,
          "iconUrl": "/images/witch-single-pink.png"
        },
        "midwife": {
          "label": "midwife",
          "active": true,
          "iconUrl": "/images/witch-single-red.png"
        },
        "Christian minister": {
          "label": "Christian minister",
          "active": true,
          "iconUrl": "/images/witch-single-brown.png"
        },
        "courier": {
          "label": "courier",
          "active": true,
          "iconUrl": "/images/witch-single-green.png"
        },
        "weaver": {
          "label": "weaver",
          "active": true,
          "iconUrl": "/images/witch-single-pale-blue.png"
        },
        "cunning folk": {
          "label": "cunning folk",
          "active": true,
          "iconUrl": "/images/witch-single-yellow.png"
        },
        "shopkeeper": {
          "label": "shopkeeper",
          "active": true,
          "iconUrl": "/images/witch-single-blue.png"
        },
        "miller": {
          "label": "miller",
          "active": true,
          "iconUrl": "/images/witch-single-orange.png"
        },
        "laborer": {
          "label": "laborer",
          "active": true,
          "iconUrl": "/images/witch-single-pink.png"
        },
        "metalsmith": {
          "label": "metalsmith",
          "active": true,
          "iconUrl": "/images/witch-single-red.png"
        },
        "healer": {
          "label": "healer",
          "active": true,
          "iconUrl": "/images/witch-single-brown.png"
        },
        "loadman": {
          "label": "loadman",
          "active": true,
          "iconUrl": "/images/witch-single-green.png"
        },
        "maltman": {
          "label": "maltman",
          "active": true,
          "iconUrl": "/images/witch-single-pale-blue.png"
        },
        "blacksmith": {
          "label": "blacksmith",
          "active": true,
          "iconUrl": "/images/witch-single-yellow.png"
        },
        "merchant": {
          "label": "merchant",
          "active": true,
          "iconUrl": "/images/witch-single-blue.png"
        },
        "occultist": {
          "label": "occultist",
          "active": true,
          "iconUrl": "/images/witch-single-orange.png"
        },
        "mealmaker": {
          "label": "mealmaker",
          "active": true,
          "iconUrl": "/images/witch-single-pink.png"
        },
        "teacher": {
          "label": "teacher",
          "active": true,
          "iconUrl": "/images/witch-single-red.png"
        },
        "farmer": {
          "label": "farmer",
          "active": true,
          "iconUrl": "/images/witch-single-brown.png"
        },
        "tailor": {
          "label": "tailor",
          "active": true,
          "iconUrl": "/images/witch-single-green.png"
        },
        "stabler": {
          "label": "stabler",
          "active": true,
          "iconUrl": "/images/witch-single-pale-blue.png"
        },
        "fisher": {
          "label": "fisher",
          "active": true,
          "iconUrl": "/images/witch-single-yellow.png"
        },
        "piece work": {
          "label": "piece work",
          "active": true,
          "iconUrl": "/images/witch-single-blue.png"
        },
        "brewster": {
          "label": "brewster",
          "active": true,
          "iconUrl": "/images/witch-single-orange.png"
        },
        "coal miner": {
          "label": "coal miner",
          "active": true,
          "iconUrl": "/images/witch-single-pink.png"
        },
        "slater": {
          "label": "slater",
          "active": true,
          "iconUrl": "/images/witch-single-red.png"
        },
        "nurse": {
          "label": "nurse",
          "active": true,
          "iconUrl": "/images/witch-single-brown.png"
        },
        "School Master": {
          "label": "School Master",
          "active": true,
          "iconUrl": "/images/witch-single-green.png"
        },
        "henwife": {
          "label": "henwife",
          "active": true,
          "iconUrl": "/images/witch-single-pale-blue.png"
        },
        "cook": {
          "label": "cook",
          "active": true,
          "iconUrl": "/images/witch-single-yellow.png"
        },
        "sailor": {
          "label": "sailor",
          "active": true,
          "iconUrl": "/images/witch-single-blue.png"
        },
        "creelman": {
          "label": "creelman",
          "active": true,
          "iconUrl": "/images/witch-single-orange.png"
        }
      }
    },
    {
      "label": "Wikipedia Page",
      "property": "hasWikiPage",
      "filters": {
        "hasWiki": {
          "label": "Has wiki",
          "active": true,
          "iconUrl": "/images/witch-single-blue.png"
        },
        "noWiki": {
          "label": "No wiki",
          "active": true,
          "iconUrl": "/images/witch-single-orange.png"
        }
      }
    }
  ],
  currentIndex: 0,
  inactiveFilters: []
});

export const getters = {
  getFilters: state => {
    return state.filterProperties;
  },
  getCurrentProperty: state => {
    return state.filterProperties[state.currentIndex];
  },
  getCurrentIndex: state => {
    return state.currentIndex;
  },
  getInactiveFilters: state => {
    return state.inactiveFilters;
  },
  getSocials: state => {
    return Object.keys(state.filterProperties[1].filters);
  },
  getOccupations: state => {
    return Object.keys(state.filterProperties[2].filters);
  }
};

export const mutations = {
  setInactive(state, filterObj) {
    // <filterObj> is an object with the filter property 
    // (sex, social class etc) and  filter type 
    // (male, vagrant etc) in the second.

    let filterType = filterObj.filterType;
    state.filterProperties[state.currentIndex].filters[filterType].active = false;
    state.inactiveFilters.push(filterObj);
  },
  setActive(state, filterObj) {
    // It removes the filter filterObj (see above for description)
    // from the active filters array.

    let filterType = filterObj.filterType;
    state.filterProperties[state.currentIndex].filters[filterType].active = true;

    state.inactiveFilters = state.inactiveFilters.filter(function (inactiveFilter) {
      return inactiveFilter.filterType !== filterObj.filterType;
    });
  },
  updateIndex(state, index) {
    state.currentIndex = index;
  },
  updateFilters(state, filterProperties) {
    state.filterProperties = filterProperties;
  },
  updateSocials(state, socialInfo) {
    state.filterProperties[1].filters[socialInfo.label] = socialInfo;
  },
  updateOccupations(state, occupationInfo) {
    state.filterProperties[2].filters[occupationInfo.label] = occupationInfo;
  }
};